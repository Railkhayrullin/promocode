# promocode
Тестовое задание для компании "Веб-студия Goodbit".


## Установка
Клонируем репозиторий на локальную машину:

    git clone https://github.com/Railkhayrullin/promocode.git

Переходим в папку с проектом.

    cd promocode

Устанавливаем виртуальное окружение.

    python3 -m venv .env
    
Активируем виртуальное окружение.

    source .env/bin/activate

Устанавливаем зависимости.

    pip install -r requirements.txt


## Выполнение команд

Для генерации промокодов необходимо ввести:

    python manage.py gen_code -a *amount -g *group -l *length

где:
- `*amount` – количество промокодов (необязательный аргумент, натуральное число, при отсутствии будет использоваться значение `DEFAULT_AMOUNT`)
- `*group` – название группы (обязательный аргумент, строка не может быть пустой)
- `*length` – количество символов в промокоде (необязательный аргумент, натуральное число в пределах от 6 до 16, при отсутствии будет использоваться значение `DEFAULT_PROMOCODE_LENGTH`)

Для проверки промокода на принадлежность к группе ввести:

    python manage.py get_group -c *code

где *code – промокод, который необходимо проверить (обязательный аргумент, строка из символов).<br>
Команда вернет `код существует группа = {group}` или `код не существует`.


## Тестирование
Для запуска теста введите:

    python manage.py test

Будет проведено 2 теста для проверки команд `gen_code` и `get_group`.


## Настройка генератора промокодов
Параметры настроек генерации промокодов находятся в файле `/promocode/settings.py`.
- `DEFAULT_PROMOCODE_PATH` – путь к json файлу с промокодами
- `DEFAULT_AMOUNT` – количество создаваемых промокодов по умолчанию
- `DEFAULT_PROMOCODE_LENGTH` – количество символов промокода по умолчанию
